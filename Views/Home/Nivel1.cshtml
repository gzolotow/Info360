@{
    ViewData["Title"] = "Nivel 1";
}

<body>
<header>
        <!-- Nav inicio -->
        <nav class="navbar fixed-top">
            <div class="container-fluid">
                <!-- Logo -->

                <img class = "LogoHeader" src="/img/logo.png" alt="Ecoplay">

                <!-- Termina Logo -->

                <!-- âœ… Corregido: sin href -->
                <a class="foto" asp-controller="Home" asp-action="Perfil">
                    <img src="/img/default.png" alt="Inicio">
                </a>

                <!-- BotÃ³n para abrir el menÃº -->
                <button class="Menu" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                    aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                    <img src="/img/menu.png" alt="Abrir menÃº">
                </button>

                <!-- Offcanvas -->
                <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                    <div class="offcanvas-body d-flex flex-column justify-content-between">
                        <ul class="navbar-nav flex-grow-1 pe-3">
                           <li class="nav-item">
                                <!-- âœ… Corregido -->
                                <a class="Inicio" asp-controller="Home" asp-action="Home">
                                    <img class="casa" src="/img/Inicio.png" alt="Inicio">
                                </a>
                                <h4>Inicio</h4>
                            </li>

                            <li class="nav-item">
                                <!-- âœ… Corregido -->
                                <a class="perfil" asp-controller="Home" asp-action="Perfil">
                                    <img class="perfil" src="/img/perfil.png" alt="Perfil">
                                </a>
                                <h4>Perfil</h4>
                            </li>

                            <button class="btn-submenu" type="button" data-bs-toggle="offcanvas"
                                data-bs-target="#offcanvasConfig" aria-controls="offcanvasConfig">
                                <img class="config" src="/img/config.png" alt="ConfiguraciÃ³n">
                            </button>
                            <h4>ConfiguraciÃ³n</h4>

                            <button type="button" class="btn-offcanvas-cerrar" data-bs-dismiss="offcanvas"
                                aria-label="Cerrar">
                                <img class="Cerrar" src="/img/cerrarMenu.png" alt="Cerrar menÃº">
                                <h4>Cerrar</h4>
                            </button>

                        </ul>
                    </div>
                </div>

                <!-- ðŸ§© SUBOVERLAY de CONFIGURACIÃ“N -->
                <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasConfig" aria-labelledby="offcanvasConfigLabel">
                    <div class="offcanvas-header"></div>
                    <div class="offcanvas-body config-body text-center">

                        <!-- OpciÃ³n MÃºsica -->
                        <div class="config-item">
                            <img src="/img/musica.png" alt="MÃºsica" class="musica">
                            <a href="#"><img src="/img/check.png" alt="Activado" class="config-icon"></a>
                        </div>

                        <!-- OpciÃ³n Volumen -->
                        <div class="config-item">
                            <img src="/img/volumen.png" alt="Volumen" class="volumen">

                            <!-- Slider funcional -->
                            <input type="range" id="volumeSlider" min="0" max="100" value="80" class="rango">

                            <!-- Texto dinÃ¡mico -->
                            <span id="volumeLabel" class="rango">Alto</span>

                            <!-- BotÃ³n para abrir el offcanvas -->
                            <button class="btn-cerrar"d type="button" data-bs-toggle="offcanvas"
                                data-bs-target="#offcanvasCenter" aria-controls="offcanvasCenter">
                                terminos y condiciones
                            </button>

                            <!-- BotÃ³n Salir -->
                            <button type="button" class="close" data-bs-dismiss="offcanvas" aria-label="Close">
                                <img src="/img/cerrarOverlay.png" alt="">
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ðŸŽµ Script de volumen -->
                <script>
                    document.addEventListener("DOMContentLoaded", () => {
                        const slider = document.getElementById('volumeSlider');
                        const label = document.getElementById('volumeLabel');

                        if (slider && label) {
                            slider.addEventListener('input', () => {
                                const value = slider.value;

                                if (value >= 70) {
                                    label.textContent = 'Alto';
                                } else if (value >= 40) {
                                    label.textContent = 'Medio';
                                } else if (value > 0) {
                                    label.textContent = 'Bajo';
                                } else {
                                    label.textContent = 'Mute';
                                }
                            });
                        }
                    });
                </script>
            </div>
        </nav>
    </header>
    <main> 
        <div class="nivel-container">
        <!-- TÃ­tulo -->
            <div class="titulo-container">
                <h1 class="titulo-nivel">Nivel 1</h1>
                <p class="subtitulo">DeslizÃ¡ el objeto al tacho correspondiente</p>
            </div>

            <section class="boton">
                <a asp-controller="Home" asp-action="Home" class="col1 row1">
                    <img src="/img/salir.png" alt="salir">
                </a>
            </section>

        <!-- Overlay Nivel Completado -->
            <div id="overlayCompletado" class="overlay hidden">
                <div class="overlay-content">
                    <h2>Â¡Nivel completado!</h2>
                    <p>Â¡Felicitaciones! Has reciclado todos los residuos correctamente.</p>
                    <a asp-controller="Home" asp-action="niveles" class="btn-volver"><p>â¬…</p></a>
                </div>
            </div>

        <!-- Fondo -->
            <div class="nivel-fondo">
                <!-- Personaje -->
                <img src="/img/@ViewBag.AspectoEquipado" class="personaje" alt="Heroe" draggable="false" />

                <!-- Tachos -->
                <img src="~/img/tachoverde.png" class="tacho verde" alt="Tacho verde" draggable="false"/>
                <img src="~/img/tachonegro.png" class="tacho negro" alt="Tacho negro" draggable="false"/>

                <!-- Residuos -->
                <img id="banana" src="~/img/banana.png" class="residuo banana" draggable="true" data-tipo="negro" alt="Banana" />
                <img id="bollo" src="~/img/bollo.png" class="residuo bollo" draggable="true" data-tipo="verde" alt="Bollo" />
                <img id="botella" src="~/img/botella.png" class="residuo botella" draggable="true" data-tipo="verde" alt="Botella" />
                <img id="lata" src="~/img/lata.png" class="residuo lata" draggable="true" data-tipo="negro" alt="Lata" />
                <img id="pizza" src="~/img/pizza.png" class="residuo pizza" draggable="true" data-tipo="negro" alt="Pizza" />
                <img id="taper" src="~/img/taper.png" class="residuo taper" draggable="true" data-tipo="negro" alt="Taper" />
                <img id="vasito" src="~/img/vasito.png" class="residuo vasito" draggable="true" data-tipo="negro" alt="Vasito" />
                <img id="diario" src="~/img/diario.png" class="residuo diario" draggable="true" data-tipo="verde" alt="Diario" />
            </div>
        </div>

        @section Scripts {
            <script src="~/js/nivel1.js"></script>
        }

    </main>
</body>
